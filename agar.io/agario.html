<html>
	<head>
		<script src="processing-1.4.1.js"></script>
		<script type="text/processing" data-processing-target="mycanvas">

		PImage star;
		PImage blackhole;
		var listOfStar =[];
		var numStars = 200;
		var planet;
		var listOfPlanet = [];
		var numPlanet = 10;
		var xpos;
		var ypos;
		var newStar;
		float targetX, targetY;
		float easing = 0.05;
		var newStarXPos;
		var newStarYPos;
		var newPlanet;
		var newEnemy;
		var numHole = 10;
		var listOfHole = [];

<<<<<<< HEAD
		 var listOfEnemy =[]; 
		//star = loadImage("goldenstar.png");
=======
		listOfEnemy =[]; 
		
>>>>>>> origin/master

		void setup(){
			star = loadImage("goldenstar.png");
			blackhole = loadImage("blackhole.gif");
			// this sets up the black background
			size(1900,920);
			background(0,0,0);
			//this loop iterates through all the stars and puts them in random places
			// iterates through the planets 
			for (i = 0; i < numPlanet; i++){
			  		 newPlanet = new Planet();
			  		listOfPlanet.push(newPlanet);		  	
			  	}
			smooth();
			noStroke();

			//this is the enemy class
			for( i =0 ;i< 2;i++){
			 	newEnemy= new Enemy(100,100,2,2,200,255);
			 	listOfEnemy.push(newEnemy);
			}

			/* THIS IS THE NEW STAR CODE */

			for(i = 0; i < numStars; i++) {
					 newStarXPos = random(0, 1900);
					 newStarYPos = random(0, 920);
					newStar = new Star(newStarXPos, newStarYPos); //make a new Stars
					listOfStar.push(newStar); //store Stars in list
					
				}
			/* END OF NEW STAR CODE */
			
			for(i = 0; i < numHole; i++) {
					 newHoleXPos = random(0, 1900);
					 newHoleYPos = random(0, 920);
					newHole = new Blackhole(newHoleXPos, newHoleYPos); //make a new Stars
					listOfHole.push(newHole); //store BlackHoles in list
					
				}
		}

		void draw(){
			background(0,0,0);
			newStarXPos = random(0, 1900);
			newStarYPos = random(0, 920);
			// draw a star 
			for (var i = 0;i<numStars;i++){
				 newStar = listOfStar[i];
				 newStar.drawStar();  
				 
				 
			  	if (xpos<= newStar.xPos+20 && xpos>=newStar.xPos-20){
			  			
				  	if(ypos<= newStar.yPos+20 && ypos>=newStar.yPos-20) {
					 	println("the circle is at x position:" + xpos + " and the y position of the circle is at : "+ ypos +" the star is at xpos " + newStar.xPos + " the star is at ypos " + newStar.yPos);

					 	newStar.teleport();
					 	newPlanet.increaseStar();



						}
					}
			  	}

			//draws enemy
			for(i = 0; i < 2; i++){
				 newEnemy = listOfEnemy[i];
				newEnemy.drawEnemy();
				newEnemy.moveEnemy();
			}
			for(i = 0; i < 2; i++) {
					newHole= listOfHole[i];
					newHole.drawHole();


				}
			
			// draws planets
			for(i = 0; i < numPlanet; i++){
				var planet = listOfPlanet[i];
				planet.drawPlanet();
				planet.increaseEnemy(newEnemy)
			}
		  	targetX = mouseX;
		 	float dx = mouseX - xpos;
		  	if(abs(dx) > 1) {
		   		xpos += dx * easing;

		   		
		 	}
		  	targetY = mouseY;
		  	float dy = mouseY - ypos;
		  	if(abs(dy) > 1) {
		    	ypos += dy * easing;
		    	
		  	}
		  	

		}

		class Star {
			//attribut+es
 			var xPos;
 			var yPos;

		 	Star (xPosition, yPosition) {
		 		xPos = xPosition;
		 		yPos = yPosition;
	 			}

	 		void drawStar() {
				image(star, xPos, yPos, 20, 20);
	 		}	

	 		void teleport(){
	 			 xPos = newStarXPos; 
	 			 yPos = newStarYPos;
	 			 drawStar();
	 		}

		}

		class Planet{
			var size;
			var r;
			var g;
			var b;
			var d; 
			//constructor
		Planet(){
			d= 50;
			r = random(20,255);
			g = random(20,255);
			b = random(20,255);
		}

		void drawPlanet(){
			noStroke();
			fill(r,g,b);
			ellipse(xpos, ypos,d,d);

		}

		void increaseStar(){
			d=d+1;
			println(d); 

		}

		void increaseEnemy(enemy){ 
			if( xpos<= enemy.xPos+20 && xpos>=enemy.xPos-20){
				println(xpos);
			if(ypos<= enemy.yPos+20 && ypos>=enemy.yPos-20){
				d = d+(enemy.d/28);
				enemy.disappear();				
			}

		}

		}
	}
		

		class Enemy{
			var xPos; 
			var yPos; 
			var speedX; 
			var size; 
			var r; 
			var g; 
			var b;
			var d; 

			Enemy(xPos1,yPos1,speedX1,r1,g1,b1) {
					xPos = xPos1; 
					yPos = yPos1;
					r = r1;
					g = g1;
					b = b1; 
					speedX = speedX1; 
					d = 30;
			}
			void drawEnemy(){
				noStroke();
				fill(r,g,b);
				ellipse(xPos, yPos,d,d);
				}

			void moveEnemy(){ 
				xPos = xPos + speedX; 
				if(xPos< 0||xPos> 1920){
					xPos = xPos *-1;  
				}
			}

			void disappear(){ 
				d = 0;
				drawEnemy();
			}
			
		}

			class Blackhole{ 
				var xPos;
				var yPos;
	
			Blackhole(xPosition, yPosition){
				xPos = xPosition;
				yPos = yPosition;
			}

			void drawHole(){ 
				image(blackhole, xPos, yPos, 50, 50);

			}



		}
	
	
		</script> 
	</head>
	<body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>